    
    def _load_window_state(self) -> None:
        """
        저장된 윈도우 상태를 로드합니다.
        (크기, 위치)
        """
        # Window geometry
        width = self.settings.get('ui.window_width', 1400)
        height = self.settings.get('ui.window_height', 900)
        self.resize(width, height)
        
        # Position (optional)
        x = self.settings.get('ui.window_x')
        y = self.settings.get('ui.window_y')
        if x is not None and y is not None:
            self.move(x, y)
    
    def _save_window_state(self) -> None:
        """
        현재 윈도우 상태를 설정에 저장합니다.
        """
        # Save window geometry
        self.settings.set('ui.window_width', self.width())
        self.settings.set('ui.window_height', self.height())
        self.settings.set('ui.window_x', self.x())
        self.settings.set('ui.window_y', self.y())
    
    def closeEvent(self, event) -> None:
        """
        윈도우 종료 이벤트를 처리합니다.
        설정을 저장하고 종료합니다.
        
        Args:
            event: 종료 이벤트
        """
        # Save window state
        self._save_window_state()
        
        # Save settings to file
        self.settings.save_settings()
        
        # Accept the close event
        event.accept()
